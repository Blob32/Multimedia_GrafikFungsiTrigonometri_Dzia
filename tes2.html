<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulasi Interaktif: Grafik Fungsi Trigonometri</title>
    <script src="https://www.desmos.com/api/v1.11/calculator.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: #f4f4f9;
            color: #333;
        }
        h1, h2 {
            color: #005a9c;
        }
        #container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            width: 100%;
            max-width: 1200px;
            justify-content: center;
        }
        #calculator {
            width: 100%;
            max-width: 700px;
            height: 500px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
        #controls-container {
            width: 100%;
            max-width: 400px;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .slider-group {
            margin-bottom: 20px;
        }
        .slider-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .slider-group input[type="range"] {
            width: 100%;
        }
        .slider-group span {
            font-family: monospace;
            font-size: 1.1em;
            color: #d63384;
        }
        #reflection-questions {
            margin-top: 30px;
            width: 100%;
            max-width: 1120px;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        #reflection-questions ul {
            padding-left: 20px;
        }
        #reflection-questions li {
            margin-bottom: 15px;
        }
    </style>
</head>
<body>

    <h1>Simulasi Interaktif: Grafik Fungsi Trigonometri</h1>
    <h2>y = a sin(bx + c) + d</h2>

    <div id="container">
        <div id="calculator"></div>
        <div id="controls-container">
            <h3>Ubah Nilai Parameter</h3>
            <div class="slider-group">
                <label for="slider-a">a (Amplitudo): <span id="val-a">1</span></label>
                <input type="range" id="slider-a" min="-5" max="5" value="1" step="0.1">
            </div>
            <div class="slider-group">
                <label for="slider-b">b (Periode): <span id="val-b">1</span></label>
                <input type="range" id="slider-b" min="-4" max="4" value="1" step="0.1">
            </div>
            <div class="slider-group">
                <label for="slider-c">c (Pergeseran Fasa): <span id="val-c">0</span></label>
                <input type="range" id="slider-c" min="-6.28" max="6.28" value="0" step="0.1">
            </div>
            <div class="slider-group">
                <label for="slider-d">d (Pergeseran Vertikal): <span id="val-d">0</span></label>
                <input type="range" id="slider-d" min="-5" max="5" value="0" step="0.1">
            </div>
        </div>
    </div>

    <div id="reflection-questions">
        <h2>Pertanyaan Reflektif untuk Eksplorasi</h2>
        <ul>
            <li>
                <strong>Amplitudo (a):</strong> Geser slider <strong>'a'</strong>.
                <ul>
                    <li>Apa yang terjadi pada "ketinggian" gelombang saat nilai 'a' diperbesar?</li>
                    <li><strong>Apa yang terjadi jika nilai 'a' menjadi negatif?</strong> (Contoh: ubah dari 1 menjadi -1). Bagaimana posisi puncak dan lembah berubah?</li>
                    <li>Bagaimana nilai 'a' berhubungan dengan nilai maksimum dan minimum dari grafik?</li>
                </ul>
            </li>
            <li>
                <strong>Periode (b):</strong> Geser slider <strong>'b'</strong>.
                <ul>
                    <li>Apa yang terjadi pada "kerapatan" gelombang saat nilai 'b' diperbesar (misal: dari 1 ke 2)?</li>
                    <li>Apa yang terjadi jika nilai 'b' diperkecil (misal: dari 1 ke 0.5)?</li>
                    <li>Jika satu gelombang penuh disebut satu periode, bagaimana nilai 'b' memengaruhi panjang satu periode pada sumbu-x?</li>
                </ul>
            </li>
            <li>
                <strong>Pergeseran Fasa (c):</strong> Geser slider <strong>'c'</strong>.
                <ul>
                    <li>Ke arah mana grafik bergerak saat nilai 'c' positif? Ke kiri atau ke kanan?</li>
                    <li>Bagaimana jika nilai 'c' negatif?</li>
                    <li>Mengapa perubahan ini disebut "pergeseran fasa" (phase shift)? Apa yang digeser?</li>
                </ul>
            </li>
            <li>
                <strong>Pergeseran Vertikal (d):</strong> Geser slider <strong>'d'</strong>.
                <ul>
                    <li>Perubahan apa yang paling jelas terlihat saat Anda menggeser slider 'd'?</li>
                    <li>Bagaimana nilai 'd' memengaruhi garis tengah (garis ekuilibrium) dari gelombang?</li>
                </ul>
            </li>
        </ul>
    </div>

<script>
    // Inisialisasi kalkulator Desmos
    var elt = document.getElementById('calculator');
    var calculator = Desmos.GraphingCalculator(elt, {
        keypad: false,
        expressions: false,
        settingsMenu: false,
        zoomButtons: true,
        xAxisLabel: 'x',
        yAxisLabel: 'y',
        xAxisStep: Math.PI / 2,
    });
    calculator.setMathBounds({
      left: -10,
      right: 10,
      bottom: -6,
      top: 6
    });

    // Ambil elemen slider dan span untuk nilai
    const sliderA = document.getElementById('slider-a');
    const sliderB = document.getElementById('slider-b');
    const sliderC = document.getElementById('slider-c');
    const sliderD = document.getElementById('slider-d');

    const valA = document.getElementById('val-a');
    const valB = document.getElementById('val-b');
    const valC = document.getElementById('val-c');
    const valD = document.getElementById('val-d');

    // Fungsi untuk memperbarui grafik
    function updateGraph() {
        const a = sliderA.value;
        const b = sliderB.value;
        const c = sliderC.value;
        const d = sliderD.value;

        // Memperbarui teks nilai di samping slider
        valA.textContent = a;
        valB.textContent = b;
        valC.textContent = c;
        valD.textContent = d;

        // Mengatur ekspresi pada Desmos
        // Kita menggunakan `id` agar bisa memperbarui ekspresi yang sama tanpa membuat yang baru
        calculator.setExpression({
            id: 'main-graph',
            latex: `y = ${a} \\sin(${b}x + ${c}) + ${d}`
        });

        // (Opsional) Menambahkan grafik dasar sebagai perbandingan
        calculator.setExpression({
            id: 'base-graph',
            latex: 'y = \\sin(x)',
            color: Desmos.Colors.GREY,
            lineStyle: Desmos.Styles.DASHED
        });
    }

    // Tambahkan event listener ke setiap slider
    sliderA.addEventListener('input', updateGraph);
    sliderB.addEventListener('input', updateGraph);
    sliderC.addEventListener('input', updateGraph);
    sliderD.addEventListener('input', updateGraph);

    // Panggil fungsi sekali saat halaman dimuat untuk menampilkan grafik awal
    updateGraph();
</script>

</body>
</html>